<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light dark" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.lime.min.css"
    />
    <link href="/main.css" rel="stylesheet" />
    <title>Map by Sensei Alex</title>
  </head>
  <body>
    <header class="container">
      <nav>
        <ul>
          <li>
            <a class="profile secondary" href="/en">
              <img
                src="https://avatars.githubusercontent.com/u/109967128"
                alt="avatar"
              />
              <h1>
                <span>SnsAlx</span>
              </h1>
              <small>
                <span>a.k.a.</span>
                <b>Sensei Alex</b>
              </small>
            </a>
          </li>
        </ul>
        <ul>
          <li><a href="/en/map.html" aria-current="page">map</a></li>
          <li><a href="/en/basics.html">basics</a></li>
          <li><a href="/">ru</a></li>
        </ul>
      </nav>
    </header>

    <main class="container">
      <section>
        <h2>Map</h2>
        <p>
          A generator for interactive maps. One such map will be deployed at
          kubstu.
        </p>
        <p>
          The data is organized in <b>sections</b>, each section has an image, a
          title, and a description. You can place points on the image, points
          are links to other sections.
        </p>
        <p>
          The output of the editor is a zip archive containing a site that
          displays the map. The archive can be hosted by any static server or
          uploaded back for further editing.
        </p>
        <hr />
      </section>

      <h2>Editor</h2>
      <div class="grid">
        <p>You can upload a map that you generated before to edit it</p>
        <input
          id="upload-zip"
          type="file"
          accept="application/zip, application/x-zip-compressed"
        />
      </div>

      <h3>Sections</h3>
      <div id="section-container"></div>
      <div class="grid">
        <button id="add-section" class="outline contrast">Add a section</button>
        <button id="download-zip" class="outline secondary">
          Download site
        </button>
      </div>
    </main>

    <footer class="container">
      <small>
        <a href="https://github.com/snsalx">
          <span>アレックス先生</span>
        </a>
      </small>
    </footer>

    <template id="section-template">
      <section>
        <form>
          <label>
            Title
            <div role="group">
              <input type="text" name="title" />
              <input
                type="button"
                class="contrast"
                value="Delete section"
                name="deleteSection"
              />
            </div>
          </label>

          <label>
            Description
            <textarea name="description"></textarea>
          </label>

          <label>
            Source
            <input type="url" name="soruce" />
          </label>

          <label>
            Image
            <input
              type="file"
              name="image"
              accept="image/png, image/jpeg, image/svg+xml"
            />
          </label>

          <figure>
            <img
              src="https://upload.wikimedia.org/wikipedia/commons/2/29/Himalayas%2C_Ama_Dablam%2C_Nepal.jpg"
              alt="Minimal landscape"
            />
            <figcaption>
              <span>Image from</span>
              <a
                href="https://commons.wikimedia.org/wiki/File:Himalayas,_Ama_Dablam,_Nepal.jpg"
                target="_blank"
                >Wikimedia Commons</a
              >
              <span>taken for the mockup version of this site</span>
            </figcaption>
          </figure>
        </form>

        <h4>Points</h4>
        <div name="point-container"></div>
        <input type="button" name="appendPoint" value="Add a point" />

        <hr />
      </section>
    </template>

    <template id="point-template">
      <form class="grid">
        <div role="group">
          <select name="sectionLink" aria-label="Point link">
            <option selected disabled value="">Links to...</option>
          </select>
          <select name="type" aria-label="Point type">
            <option selected disabled value="">Type...</option>
            <option>Square</option>
            <option>Round</option>
            <option>Invisible</option>
          </select>
          <input type="number" name="size" placeholder="Size (px)" />
          <input type="button" name="move" class="secondary" value="Move" />
          <input type="button" name="delete" class="contrast" value="Delete" />
        </div>
      </form>
    </template>

    <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <script src="/scripts/map.editor.js"></script>
  </body>
</html>
